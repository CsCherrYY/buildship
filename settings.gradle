include ':org.gradle.toolingapi'
include ':org.eclipse.buildship.compat'
include ':org.eclipse.buildship.core'
include ':org.eclipse.buildship.ui'
include ':org.eclipse.buildship.feature'
include ':org.eclipse.buildship.site'
include ':org.eclipse.buildship.branding'
include ':org.eclipse.buildship.core.test'
include ':org.eclipse.buildship.ui.test'

// Oomph is only bundled with eclipse mars (45) and up. Allow for disabling it on older targets.
if (properties['enable.oomph.plugin'] == "true") {
    include ':org.eclipse.buildship.oomph'
    include ':org.eclipse.buildship.oomph.edit'
    include ':org.eclipse.buildship.oomph.feature'
    include ':org.eclipse.buildship.oomph.test'
}

// Use local build cache on developer machine and remote cache on CI
boolean remoteCacheAvailable = false

buildCache {
    local {
        enabled = !remoteCacheAvailable
    }

    if (remoteCacheAvailable) {
        remote(HttpBuildCache) {
            url = cacheUrl
            credentials {
                username = cacheUser
                password = cachePassword
                push = true
            }
        }
    }
}
